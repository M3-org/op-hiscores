# ethereum-optimism/op-geth Monthly Report (June 2025)

## üöÄ Highlights
June was a month of significant progress in enhancing the stability and performance of the OP Stack. Key achievements include the successful enablement and testing of flashblocks on the eris-0 devnet, a major step towards broader integration. Development also focused heavily on improving the transaction pool, with the introduction of periodic filtering to enhance efficiency. However, the month also highlighted ongoing challenges, with active investigations into `op-supervisor` stability during resets, `op-batcher` memory consumption, and a persistent `op-geth` CPU usage bug. These efforts reflect a dual focus on shipping new capabilities while hardening the core infrastructure.

## üõ†Ô∏è Key Developments
Work this month centered on transaction management, cost functions, and core client stability.

-   **Transaction Pool Enhancements:** A significant feature was added to the transaction pool to enable periodic transaction filtering ([#629](https://github.com/ethereum-optimism/op-geth/pull/629)). This improvement aims to increase the efficiency of transaction management and led to the closure of a long-standing issue related to interval validity checks ([#494](https://github.com/ethereum-optimism/op-geth/issues/494)).

-   **Cost Function & Fee Calculation Refinements:** Several pull requests were opened to refine cost calculations. This includes fixes for the L1 Data Availability (DA) cost function ([#630](https://github.com/ethereum-optimism/op-geth/pull/630)) and updates to calldata costs ([#631](https://github.com/ethereum-optimism/op-geth/pull/631)). Additionally, work began to remove Optimism-specific priority fee estimate calculations ([#632](https://github.com/ethereum-optimism/op-geth/pull/632)), aiming to streamline the fee model.

-   **Core Client Fixes & Features:** A minor but important bug fix was merged to correct gas calculation initialization, aligning `op-geth` with upstream Geth ([#627](https://github.com/ethereum-optimism/op-geth/pull/627)). A new pull request was also opened to introduce a configurable maximum code size feature ([#634](https://github.com/ethereum-optimism/op-geth/pull/634)).

-   **Superchain Configuration:** The Superchain registry was updated to import the latest `rehearsal-0-bn` configurations, though this process uncovered a minor unmarshaling issue ([#625](https://github.com/ethereum-optimism/op-geth/pull/625)).

## üêõ Issues & Triage
The project saw the resolution of several key issues while new, critical investigations were launched into performance and stability.

-   **Closed Issues:**
    -   **Flashblocks Integration:** A major milestone was reached with the closure of issues related to enabling flashblocks on the eris-0 devnet ([#16468](https://github.com/ethereum-optimism/op-geth/issues/16468)) and completing the associated transaction acceptance tests ([#354](https://github.com/ethereum-optimism/op-geth/issues/354)).
    -   **CI/CD & Testing:** Significant effort was invested in improving the development pipeline. An investigation into CI flakiness was closed ([#16271](https://github.com/ethereum-optimism/op-geth/issues/16271)), and an interop sync test that relied on supervisor multi-node support was fixed ([#16187](https://github.com/ethereum-optimism/op-geth/issues/16187)).
    -   **Developer Experience:** Several issues aimed at improving the developer experience were resolved, including enabling predeploy modification in Supersim ([#393](https://github.com/ethereum-optimism/op-geth/issues/393)) and fixing broken documentation links ([#283](https://github.com/ethereum-optimism/op-geth/issues/283), [#1508](https://github.com/ethereum-optimism/op-geth/issues/1508)).

-   **New & Active Issues:**
    -   **`op-supervisor` Stability:** A primary focus of ongoing work is the `op-supervisor`. Active discussions revolve around improving L1 origin validity handling during resets ([#16315](https://github.com/ethereum-optimism/op-geth/issues/16315)), fixing fault proof data provisioning for non-genesis interop upgrades ([#16166](https://github.com/ethereum-optimism/op-geth/issues/16166)), and diagnosing an event overflow that causes crash-loops ([#16335](https://github.com/ethereum-optimism/op-geth/issues/16335)).
    -   **Performance Investigations:** Several critical performance issues are under active investigation. These include optimizing `op-batcher` memory consumption, where the compressor was identified as a primary culprit ([#16537](https://github.com/ethereum-optimism/op-geth/issues/16537), [#16572](https://github.com/ethereum-optimism/op-geth/issues/16572)), and diagnosing abnormal CPU usage in `op-geth` v1.101511.0 ([#613](https://github.com/ethereum-optimism/op-geth/issues/613)).
    -   **Transaction Pool Bugs:** Despite recent improvements, new challenges have emerged. A bug causing `eth_getTransactionCount` to return an incorrect nonce for pending transactions remains active ([#623](https://github.com/ethereum-optimism/op-geth/issues/623)). A new, potentially flaky issue was opened where the `txpool` conditionally includes invalid interop transactions ([#635](https://github.com/ethereum-optimism/op-geth/issues/635)), which is being actively investigated.

## üí¨ Community & Collaboration
June's activity highlighted strong, data-driven collaboration among core contributors. The investigation into `op-batcher` memory consumption ([#16537](https://github.com/ethereum-optimism/op-geth/issues/16537)) is a prime example, with `geoknee` providing detailed `pprof` analysis that spurred targeted optimization suggestions from `sebastianst`.

Deep technical discussions on complex `op-supervisor` issues ([#16166](https://github.com/ethereum-optimism/op-geth/issues/16166), [#16315](https://github.com/ethereum-optimism/op-geth/issues/16315)) showcased collaborative problem-solving between team members to ensure protocol correctness. Similarly, the effort to debug a flaky `txpool` issue ([#635](https://github.com/ethereum-optimism/op-geth/issues/635)) demonstrated effective teamwork, with `pcw109550` providing detailed CI artifacts to help `axelKingsley` in the difficult task of reproducing an intermittent bug. These interactions reflect a healthy and engaged developer community focused on hardening the stack.