# ethereum-optimism/supersim Weekly Report (Jun 22 - 28, 2025)

## üöÄ Highlights
This week was characterized by a dual focus on enhancing `supersim`'s testing capabilities and addressing critical performance issues across the OP Stack. Key development work introduced a configurable dependency set for more flexible testing ([#407](https://github.com/ethereum-optimism/supersim/pull/407)). Concurrently, significant effort was dedicated to investigating performance bottlenecks, including high memory consumption in `op-batcher`, abnormal CPU usage in `op-geth`, and stability concerns in `op-supervisor`. A major housekeeping effort also saw the closure of a large volume of issues related to CI/CD, developer tooling, and previously completed features, signaling a push towards stabilizing the development environment and clearing technical debt.

## üõ†Ô∏è Key Developments
This week's completed work focused on improving the flexibility and currency of the simulation environment.

-   **Enhanced Supersim Configuration:** A significant feature was added to `supersim` to allow for a configurable dependency set ([#407](https://github.com/ethereum-optimism/supersim/pull/407)). This change improves testing flexibility by enabling developers to simulate and test against chains that are not part of the standard interop configuration.
-   **Core Dependency Updates:** The `GasTank` dependency was updated to its latest version to align with changes in `interop-lib` ([#406](https://github.com/ethereum-optimism/supersim/pull/406)). This ensures the simulation environment remains compatible with the latest protocol specifications and features.

## üêõ Issues & Triage
Issue management this week involved clearing a significant backlog of older tasks while opening new investigations into performance and stability.

-   **Closed Issues:** A substantial number of issues were closed, reflecting a focus on cleanup and finalization.
    -   **CI/CD & Tooling:** A large batch of issues related to `superchain-ops` and general CI processes were resolved. This included improvements to CI job performance ([#648](https://github.com/ethereum-optimism/supersim/issues/648)), task automation ([#337](https://github.com/ethereum-optimism/supersim/issues/337)), and the conclusion of a spike on CI SLAs ([#16437](https://github.com/ethereum-optimism/supersim/issues/16437)).
    -   **Feature Completion:** Work on several features was officially closed, including acceptance testing for flashblocks ([#354](https://github.com/ethereum-optimism/supersim/issues/354)), enabling flashblocks on `eris-0` ([#16468](https://github.com/ethereum-optimism/supersim/issues/16468)), and allowing predeploy modifications for testing ([#393](https://github.com/ethereum-optimism/supersim/issues/393)).
    -   **Testing & Documentation:** Issues for porting an acceptance test ([#412](https://github.com/ethereum-optimism/supersim/issues/412)), fixing documentation links ([#283](https://github.com/ethereum-optimism/supersim/issues/283)), and resolving a request for deterministic gas testing ([#408](https://github.com/ethereum-optimism/supersim/issues/408)) were also closed.

-   **New & Active Issues:** Discussions centered on performance, stability, and new feature requests.
    -   **Performance Bottlenecks:** Several critical performance issues are under active investigation. These include optimizing `op-batcher` memory consumption, where `pprof` analysis pointed to the compressor as a primary culprit ([#16537](https://github.com/ethereum-optimism/supersim/issues/16537)); diagnosing abnormal CPU usage in `op-geth` ([#613](https://github.com/ethereum-optimism/supersim/issues/613)); and addressing stuck goroutines in `op-node` ([#16332](https://github.com/ethereum-optimism/supersim/issues/16332)).
    -   **Supervisor Stability:** A new issue was opened to investigate event spikes in `op-supervisor` ([#16603](https://github.com/ethereum-optimism/supersim/issues/16603)), while discussions continued on improving its reset logic and L1 origin verification to handle pre- and post-Interop scenarios correctly ([#16314](https://github.com/ethereum-optimism/supersim/issues/16314], [#16315](https://github.com/ethereum-optimism/supersim/issues/16315)).
    -   **New Requests & Bugs:** A feature to enable user-specified contract logging in `supersim` was requested to improve debugging ([#411](https://github.com/ethereum-optimism/supersim/issues/411)), and a bug was filed for a broken dependency in `op-chain-ops` ([#16612](https://github.com/ethereum-optimism/supersim/issues/16612)).

## üí¨ Community & Collaboration
-   There was strong collaborative debugging on the `op-geth` high CPU usage issue ([#613](https://github.com/ethereum-optimism/supersim/