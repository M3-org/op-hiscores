# ethereum-optimism/op-analytics Monthly Report (July 2025)

## üöÄ Highlights
July was a month of significant enhancement and stabilization for the `op-analytics` data pipelines. Development focused on expanding data ingestion to new chains like Celo, integrating new data sources such as Dune and Goldsky, and substantially improving the reliability of existing processes like ETH transfers and revenue share calculations. The team also dedicated considerable effort to infrastructure maintenance, including frequent Dagster version upgrades and the addition of new analytics notebooks. This work was complemented by resolving numerous long-standing issues related to sequencer stability, test suite porting, and interoperability, clearing the path for future development.

## üõ†Ô∏è Key Developments
This month's work centered on broadening data coverage and improving the robustness of the analytics platform.

- **Data Pipeline & Ingestion Enhancements:**
    - **Revenue Share (Revshare) Logic:** A major effort was made to improve Revshare transfer logic. Work unified L2 transaction handling ([#1651](https://github.com/ethereum-optimism/op-analytics/pull/1651)), expanded the system to capture all inbound transfers across all chains ([#1678](https://github.com/ethereum-optimism/op-analytics/pull/1678), [#1680](https://github.com/ethereum-optimism/op-analytics/pull/1680)), and fixed a critical data insertion bug ([#1681](https://github.com/ethereum-optimism/op-analytics/pull/1681)).
    - **New Data Sources & Chains:** The pipeline's scope was expanded by adding support for the Celo chain ([#1694](https://github.com/ethereum-optimism/op-analytics/pull/1694)), integrating Ethereum into the Goldsky ingestion process ([#1696](https://github.com/ethereum-optimism/op-analytics/pull/1696)), and adding a new process to pull top EVM contracts from Dune ([#1711](https://github.com/ethereum-optimism/op-analytics/pull/1711)).
    - **ETH Transfer Reliability:** Several fixes were implemented for ETH transfers, including resolving an issue with null values being dropped ([#1665](https://github.com/ethereum-optimism/op-analytics/pull/1665)), correcting data type inconsistencies ([#1670](https://github.com/ethereum-optimism/op-analytics/pull/1670)), and enabling backfilling through the Dagster UI ([#1667](https://github.com/ethereum-optimism/op-analytics/pull/1667)).
    - **External API Adaptations:** The pipelines were updated to handle changes in the L2Beat API's `provider` field and the Dune API's date format, ensuring uninterrupted data flow ([#1685](https://github.com/ethereum-optimism/op-analytics/pull/1685), [#1688](https://github.com/ethereum-optimism/op-analytics/pull/1688)).

- **Infrastructure & Tooling:**
    - **Dagster Upgrades:** The project's core data orchestrator, Dagster, received numerous version bumps throughout the month to improve functionality and stability ([#1672](https://github.com/ethereum-optimism/op-analytics/pull/1672), [#1675](https://github.com/ethereum-optimism/op-analytics/pull/1675), [#1708](https://github.com/ethereum-optimism/op-analytics/pull/1708), [#1710](https://github.com/ethereum-optimism/op-analytics/pull/1710)).
    - **New Analytics Notebooks:** Several new notebooks were added to enhance analysis capabilities, including tools for DefiLlama full backfills ([#1703](https://github.com/ethereum-optimism/op-analytics/pull/1703)) and flashblocks analysis ([#1714](https://github.com/ethereum-optimism/op-analytics/pull/1714)).
    - **Pipeline Maintenance:** The team performed necessary maintenance by removing the decommissioned Kroma chain from ingestion ([#1671](https://github.com/ethereum-optimism/op-analytics/pull/1671)) and temporarily disabling block batch processing for Ethereum and Celo to address processing issues ([#1698](https://github.com/ethereum-optimism/op-analytics/pull/1698), [#1699](https://github.com/ethereum-optimism/op-analytics/pull/1699), [#1701](https://github.com/ethereum-optimism/op-analytics/pull/1701)).

- **Data Quality & Refinements:**
    - **Bug Fixes:** Critical bugs were addressed, including implementing retry logic for collective balance retrieval to prevent nulls ([#1663](https://github.com/ethereum-optimism/op-analytics/pull/1663)) and correcting L2 priority fee calculations ([#1704](https://github.com/ethereum-optimism/op-analytics/pull/1704)).
    - **Metadata Updates:** Chain metadata was updated with new data for Celo and Frax ([#1683](https://github.com/ethereum-optimism/op-analytics/pull/1683]), and the Dune Top Contracts list was refreshed ([#1712](https://github.com/ethereum-optimism/op-analytics/pull/1712)).

## üêõ Issues & Triage
July saw the resolution of many long-standing issues and the start of important new initiatives.

- **Closed Issues:**
    - **Sequencer & Node Stability:** A significant number of older issues related to sequencer stability were closed, including recovery from sequence window expiration ([#11228](https://github.com/ethereum-optimism/op-analytics/issues/11228]), sequencer halting on temporary errors ([#12240](https://github.com/ethereum-optimism/op-analytics/issues/12240)), and decisions around flashblocks deployment configurations ([#16688](https://github.com/ethereum-optimism/op-analytics/issues/16688), [#16689](https://github.com/ethereum-optimism/op-analytics/issues/16689)).
    - **Test Suite & Interoperability:** Progress was made in testing by closing tasks to port `TestERC20Bridge` and `TestChainFork` to devstack ([#415](https://github.com/ethereum-optimism/op-analytics/issues/415), [#413](https://github.com/ethereum-optimism/op-analytics/issues/413)). An interop acceptance test issue was also closed and handed over to the Protocol team ([#298](https://github.com/ethereum-optimism/op-analytics/issues/298)).
    - **Documentation & Workflow:** Key documentation issues were resolved, including the final review of Runbook v3 ([#16651](https://github.com/ethereum-optimism/op-analytics/issues/16651)) and a clarification for the L2 Testnet Tutorial that had been open since February ([#1401](https://github.com/ethereum-optimism/op-analytics/issues/1401)).

- **New & Active Issues:**
    - **Etherscan to Blockscout Migration:** A new initiative was started to migrate OP Mainnet and OP Sepolia references from Etherscan to Blockscout, tracked in issue [#1697](https://github.com/ethereum-optimism/op-analytics/issues/1697).
    - **Invalid Interop Transaction Bug:** A high-priority investigation continues into a flaky bug where invalid interop transactions are sometimes included in the txpool ([#635](https://github.com/ethereum-optimism/op-analytics/issues/635)). Team members are actively trying to reproduce the issue using detailed CI artifacts.
    - **Future Initiatives:** Active discussions point to significant future work, including the design of a sync tester service ([#16452](https://github.com/ethereum-optimism/op-analytics/issues/16452)), tracking the "Min Base Fee" initiative ([#16807](https://github.com/ethereum-optimism/op-analytics/issues/16807)), and exploring congestion-based transaction reordering ([#306](https://github.com/ethereum-optimism/op-analytics/issues/306)).

## üí¨ Community & Collaboration
Collaboration was strong this month, particularly in debugging complex issues and planning future architecture.

- **Deep Dive Debugging:** The extensive discussion on the invalid interop transaction bug ([#635](https://github.com/ethereum-optimism/op-analytics/issues/635)) showcased deep collaboration, with members like `pcw109550` providing detailed artifacts and `axelKingsley` conducting in-depth analysis of `geth`'s transaction flow.
- **Cross-Team Coordination:** The tracking issue for the "Min Base Fee" ([#16807](https://github.com/ethereum-optimism/op-analytics/issues/16807)) highlights coordination across multiple repositories (`reth`, `op-alloy`, `optimism`), demonstrating the project's role within the broader ecosystem.
- **Proactive Code Improvement:** The identification of duplicate code in `op-batcher` ([#16677](https://github.com/ethereum-optimism/op-analytics/issues/16677)) by `chuwt` and the welcoming response from