# ethereum-optimism/optimism Daily Update (Jun 25, 2025)
## OVERVIEW 
Today's development focused on enhancing testing infrastructure, improving error handling in core services, and adding a new calldata generation script. Several issues related to flashblocks and memory optimization were closed.

## KEY TECHNICAL DEVELOPMENTS

### Enhanced Testing and Development Tooling
Significant progress was made in bolstering the testing framework and developer tools. This includes adding support for both in-memory and external orchestrators in acceptance tests, paving the way for future deprecation of the `justfile` ([#16549](https://github.com/ethereum-optimism/optimism/pull/16549)). New load tests were introduced to spam invalid messages for interop testing ([#16459](https://github.com/ethereum-optimism/optimism/pull/16459)), and a test for contract artifact integrity was added to the deployer ([#16568](https://github.com/ethereum-optimism/optimism/pull/16568)). Additionally, a script to generate OPCM migration calldata was ported, relying on hardcoded values ([#16532](https://github.com/ethereum-optimism/optimism/pull/16532)).

### Improved Error Handling and Stability
Several bug fixes and enhancements were implemented to improve the stability and error handling of core components. This includes ignoring specific errors like "already known" and "nonce too low" during transaction resubmission in the transaction manager ([#16566](https://github.com/ethereum-optimism/optimism/pull/16566)). The `WaitForL2HeadToAdvanceTo` function was fixed to handle supervisor sync jumps gracefully ([#16560](https://github.com/ethereum-optimism/optimism/pull/16560)), and the Kurtosis devnet now properly handles L1 chain IDs ([#16579](https://github.com/ethereum-optimism/optimism/pull/16579)). Error checks were also enhanced for `txmgr` and `op-node` p2p key management ([#16542](https://github.com/ethereum-optimism/optimism/pull/16542)).

### Security and Configuration Safeguards
A security audit report for the Cannon Go 1.23 support fix was added to the documentation ([#16479](https://github.com/ethereum-optimism/optimism/pull/16479)). Furthermore, safeguards were introduced in `op-program` to prevent typos in custom chain configuration files, making it harder to make common naming mistakes ([#16580](https://github.com/ethereum-optimism/optimism/pull/16580)).

## NEWLY OPENED PULL REQUESTS
- [#16569](https://github.com/ethereum-optimism/optimism/pull/16569) [DO NOT MERGE] op-acceptance-tests: interop invalid attribute exec msg tx mempool evict experiment
- [#16570](https://github.com/ethereum-optimism/optimism/pull/16570) op-batcher: make shadow compressor more memory efficient
- [#16574](https://github.com/ethereum-optimism/optimism/pull/16574) Op program/rehearsal 1 bn
- [#16577](https://github.com/ethereum-optimism/optimism/pull/16577) dependabot(gomod): bump github.com/docker/docker from 27.5.1+incompatible to 28.3.0+incompatible

## CLOSED ISSUES

### Flashblocks and Interoperability Enhancements
Several issues related to flashblocks and cross-chain interoperability were closed. This includes enabling flashblocks on eris-0 for testing ([#16468](https://github.com/ethereum-optimism/optimism/issues/16468)) and adding acceptance tests for flashblock transactions ([#354](https://github.com/ethereum-optimism/optimism/issues/354)). Progress was also made on withdrawal pathways for superchain output roots ([#821](https://github.com/ethereum-optimism/optimism/issues/821)).

### CI/CD and Developer Experience Improvements
Efforts to improve the CI/CD pipeline and overall developer experience saw the closure of issues like exploring CI SLAs ([#16437](https://github.com/ethereum-optimism/optimism/issues/16437)). The ability for users to modify predeploys was enabled ([#393](https://github.com/ethereum-optimism/optimism/issues/393)), and a broken link in the documentation for `L2NativeSuperchainERC20.sol` was fixed ([#283](https://github.com/ethereum-optimism/optimism/issues/283)).

### Batcher Optimization and Scripting
Issues related to batcher performance and scripting were addressed. This includes a spike to optimize memory consumption in the op-batcher ([#16537](https://github.com/ethereum-optimism/optimism/issues/16537)) and improvements to the OPCM Migrate Script ([#16326](https://github.com/ethereum-optimism/optimism/issues/16326)).

## NEW ISSUES

### Batcher Observability and Memory Consumption
A new issue was opened to increase the observability of memory consumption in the `op-batcher` ([#16572](https://github.com/ethereum-optimism/optimism/issues/16572)). This aims to integrate `pprof` into `kurtosis-devnet` and add CI tests to measure memory usage.

### Code Quality and Tooling
A new issue proposes a script to check for unused internal/private functions in contracts, aiming to improve code quality and maintainability ([#16583](https://github.com/ethereum-optimism/optimism/issues/16583)).

## ACTIVE ISSUES

### Batcher Memory Optimization ([#16537](https://github.com/ethereum-optimism/optimism/issues/16537))
Discussion continues on optimizing memory consumption in the `op-batcher`. Recent comments highlight that the compressor is a major contributor to memory usage, especially when a backlog of channels builds up. Ideas for optimization include making the shadow compressor use less memory by not using two underlying compressors and potentially discarding the compressor more eagerly after channel submission.

### CI SLAs ([#16437](https://github.com/ethereum-optimism/optimism/issues/16437))
Feedback on CI SLAs suggests that while they are useful for platforms, developers prioritize rapid fixes for flaky tests and clear failure attribution. Concerns were raised about a high expected failure rate and long CI completion times. The idea of "getting smarter about how we allow new tests into the repo" was proposed, potentially by proactively detecting flaky tests before they are admitted.

### Flashblocks Transactions ([#354](https://github.com/ethereum-optimism/optimism/issues/354))
The discussion on flashblocks transactions indicates that simply checking `eth_getBlockByNumber` with a "pending" parameter is insufficient for validation. A more robust approach involves establishing a websocket connection with the `rbuilder` and expecting a stream of flashblocks.

### Supersim vs. Interop Kurtosis Devnet ([#399](https://github.com/ethereum-optimism/optimism/issues/399))
Clarification was provided on the difference between Supersim and Interop Kurtosis Devnet. Supersim is described as a lighter wrapper around Anvil for local development, primarily used for testing multichain/interop applications and upcoming features, while Kurtosis is used by the OP Stack for chain testing.

### Feature Request: Logging User-Specified Contracts ([#411](https://github.com/ethereum-optimism/optimism/issues/411))
A new feature request for Supersim proposes enabling logging of events for user-specified contracts, which would be useful for debugging and monitoring.