# ethereum-optimism/optimism Daily Update (Sep 5, 2025)
## OVERVIEW 
Today's development focused heavily on enhancing the Optimism contracts, particularly with the integration of FaultDisputeGameV2 and significant advancements in feature flagging within the OPContractsManager and SystemConfig. Sync testing capabilities were also expanded to support multiple networks.

## KEY TECHNICAL DEVELOPMENTS

### Enhanced Contract Functionality and Dispute Game Integration
*   Integrated `FaultDisputeGameV2` into the `DisputeGameFactory`, marking a significant step in dispute resolution mechanisms ([#17119](https://github.com/ethereum-optimism/optimism/pull/17119)).
*   Updated `SystemConfig.paused()` to reference the `OptimismPortal` for identifying `ETHLockbox` functionality ([#17322](https://github.com/ethereum-optimism/optimism/pull/17322), [#17344](https://github.com/ethereum-optimism/optimism/pull/17344)).

### Advanced Feature Flagging for Contracts
*   Introduced comprehensive feature flagging capabilities within the `OPContractsManager` (OPCM), allowing selective utilization of functionality via a 32-byte bitmap ([#17268](https://github.com/ethereum-optimism/optimism/pull/17268), [#17341](https://github.com/ethereum-optimism/optimism/pull/17341)).
*   Added feature flagging to `SystemConfig`, enabling the ProxyAdmin or owner to toggle features identified by 32-byte strings ([#17327](https://github.com/ethereum-optimism/optimism/pull/17327)).
*   Updated `VerifyOPCM` to check for non-empty development bitmaps on mainnet, ensuring proper feature flag validation ([#17324](https://github.com/ethereum-optimism/optimism/pull/17324), [#17345](https://github.com/ethereum-optimism/optimism/pull/17345)).

### Improved Sync Testing and Infrastructure
*   Refactored `op-node` sync tests to support multiple networks in CI, enhancing testing robustness ([#17334](https://github.com/ethereum-optimism/optimism/pull/17334)).
*   Improved session handling in `op-sync-tester` with fine-grained mutexes and a session manager for better abstraction ([#17316](https://github.com/ethereum-optimism/optimism/pull/17316)).
*   Removed unused code in `op-sync-tester/backend.FromConfig` for cleaner codebase ([#17321](https://github.com/ethereum-optimism/optimism/pull/17321)).

## NEWLY OPENED PULL REQUESTS
*   [#17335](https://github.com/ethereum-optimism/optimism/pull/17335) "Fix/opgt/gas" aims to address gas-related issues.
*   [#17343](https://github.com/ethereum-optimism/optimism/pull/17343) "feat: try adding op-mainnet sync test" proposes adding a sync test for the op-mainnet.
*   [#17346](https://github.com/ethereum-optimism/optimism/pull/17346) "refactor(test): improve ProtocolVersions test coverage and organization" focuses on enhancing test coverage and organization for ProtocolVersions.
*   [#17347](https://github.com/ethereum-optimism/optimism/pull/17347) "refactor(test): improve L2StandardBridge test coverage and quality" seeks to improve test coverage and quality for L2StandardBridge.

## CLOSED ISSUES

### Minimum Base Fee Implementation
*   The implementation of `minBaseFee` in the block header's `extraData` field has been completed ([#649](https://github.com/ethereum-optimism/optimism/issues/649)).
*   The addition of an extra `uint64` for `minBaseFee` in `PayloadAttributesV3` has been addressed ([#650](https://github.com/ethereum-optimism/optimism/issues/650)).
*   The update to `eip1559.CalcBaseFee` to enforce the minimum base fee when the feature is active is now complete ([#651](https://github.com/ethereum-optimism/optimism/issues/651)).

### Sync Tester Improvements
*   The `op-sync-tester` has received better session handling, resolving issues with duplicated session validation logic across RPCs ([#17047](https://github.com/ethereum-optimism/optimism/issues/17047)).

### Devnet and Configuration Enhancements
*   The request to run `op-nat` in Kurtosis has been closed due to a shift in prioritizing other local devnet environments ([#158](https://github.com/ethereum-optimism/optimism/issues/158)).
*   The issue regarding making chain configs fully explicit has been closed, indicating that chain configurations are now self-descriptive ([#763](https://github.com/ethereum-optimism/optimism/issues/763)).

## NEW ISSUES

### Engine API and State Management
*   An issue has been opened to update engine API checks for `op-program`, noting that they lag behind recent `op-geth` updates and require hardening ([#17336](https://github.com/ethereum-optimism/optimism/issues/17336)).
*   A new issue highlights the need to validate extradata pre-Holocene in `engine_consolidate`, following a revert of previous changes ([#17337](https://github.com/ethereum-optimism/optimism/issues/17337)).

### Minimum Base Fee Configuration
*   A task has been created to load the minimum base fee value from `SystemConfig` contract events ([#17340](https://github.com/ethereum-optimism/optimism/issues/17340)).

### Jovian Fork Testing
*   An issue has been opened to run precompile Fault Proof tests on the Jovian fork ([#17348](https://github.com/ethereum-optimism/optimism/issues/17348)).

## ACTIVE ISSUES

### op-geth init with large genesis file, level db panic ([#668](https://github.com/ethereum-optimism/optimism/issues/668))
The discussion revolves around initializing `op-geth` with a large 7GB genesis file and a resulting LevelDB panic. The primary challenge is the size of the genesis state and how to handle it efficiently without embedding the full state into the `op-geth` binary. `protolambda` suggests modifying `op-geth` for a one-time import of state by not storing the alloc data as a flat JSON blob and instead importing the state directly into the DB. It's also recommended to include the `stateHash` attribute of the genesis block into the chain-`config` part of `genesis.json` to enable fresh nodes to snap-sync state from other bootstrap nodes. This strategy aligns with how `op-mainnet` handles large genesis states. `cliff0412` acknowledged the advice, confirming they will not save the `genesis.json`.