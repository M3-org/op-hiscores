# ethereum-optimism/optimism Daily Update (Oct 29, 2025)
## OVERVIEW 
Today's development focused on enhancing devstack features, fixing critical race conditions in subprocess handling, and improving CI for contracts. Significant work was also done on acceptance tests and observability within the `op-devstack`.

## KEY TECHNICAL DEVELOPMENTS

### Devstack Enhancements and Feature Management
The `op-devstack` received updates to enable individual development features, allowing for easier combination and preventing accidental disabling of features ([#17994](https://github.com/ethereum-optimism/optimism/pull/17994)). Additionally, observability was enabled in `sysgo`, wiring up L2 metrics for `kona-node` ([#18017](https://github.com/ethereum-optimism/optimism/pull/18017)).

### Stability and Testing Improvements
Several critical bug fixes addressed race conditions in `op-devstack`'s subprocess handling, ensuring all logs are read before `cmd.Wait()` is called to prevent test flakes ([#17815](https://github.com/ethereum-optimism/optimism/pull/17815)). Acceptance tests were also refined to fix spammer warning logs and improve L1 origin retry logic ([#18067](https://github.com/ethereum-optimism/optimism/pull/18067)). CI was updated to properly run dev feature tests within the contracts test suite ([#18051](https://github.com/ethereum-optimism/optimism/pull/18051)).

### Cannon VM and Code Refinements
The Cannon VM handling in e2e tests was reworked to clean up and re-enable skipping "next" versions ([#18064](https://github.com/ethereum-optimism/optimism/pull/18064)). A refactor removed redundant error checks in the deriver ([#18069](https://github.com/ethereum-optimism/optimism/pull/18069)), and the Cannon witness output now includes the state version for easier correctness confirmation ([#18068](https://github.com/ethereum-optimism/optimism/pull/18068)).

## NEWLY OPENED PULL REQUESTS
Eight new pull requests were opened today, focusing on OPCM updates, custom gas token features, and acceptance test improvements. These include:
- [#18079](https://github.com/ethereum-optimism/optimism/pull/18079) feat: OPCM v2
- [#18078](https://github.com/ethereum-optimism/optimism/pull/18078) opcm: Update OPCM.migrate to support Cannon-Kona games
- [#18077](https://github.com/ethereum-optimism/optimism/pull/18077) dependabot(gomod): bump github.com/lmittmann/w3 from 0.19.5 to 0.20.5
- [#18076](https://github.com/ethereum-optimism/optimism/pull/18076) feat: cgt
- [#18075](https://github.com/ethereum-optimism/optimism/pull/18075) chore(sync): custom gas token
- [#18073](https://github.com/ethereum-optimism/optimism/pull/18073) chore(op-acceptance-tests): flake-shake; test promotions
- [#18072](https://github.com/ethereum-optimism/optimism/pull/18072) op-acceptance-test: restricted tx mempool verification
- [#18071](https://github.com/ethereum-optimism/optimism/pull/18071) feat: Add configuration for the default finality lookback

## CLOSED ISSUES

### Test Stability and Observability
A flaky test, `TestSubProcess`, which had flaked 14 times in the past week, was closed today ([#17553](https://github.com/ethereum-optimism/optimism/issues/17553)). The feature to enable observability and monitoring in `sysgo` was also closed, indicating its successful implementation ([#17941](https://github.com/ethereum-optimism/optimism/issues/17941)).

### Proofs and Releases
The issue tracking Proofs: U17 releases was closed, signifying the completion of tasks such as tagging `op-program` rc and updating the verified prestates file ([#18058](https://github.com/ethereum-optimism/optimism/issues/18058)).

## NEW ISSUES

### L1 Chain Config and L3s
A new issue highlights the need for `op-node` and `op-program` to skip L1 chain configuration for L3s, especially when the L1 chain ID is a known L2 chain ID, to improve usability and reduce configuration overhead ([#18070](https://github.com/ethereum-optimism/optimism/issues/18070)).

### Acceptance Test Flakiness
Two new issues report consistent failures in `op-acceptance-tests`: `base/TestTransfer` ([#18081](https://github.com/ethereum-optimism/optimism/issues/18081)) and `ecotone/TestFees` ([#18082](https://github.com/ethereum-optimism/optimism/issues/18082)), indicating a need to de-flakify these tests.

## ACTIVE ISSUES

### Celestia Batcher DA Size Fix
Discussion on [#17872](https://github.com/ethereum-optimism/optimism/issues/17872) regarding upstreaming a Celestia batcher DA size fix concluded with a PR being opened ([#18074](https://github.com/ethereum-optimism/optimism/pull/18074)) as the fix was trivial.

### Jovian RollupConfig and ZK Stacks
Issue [#17907](https://github.com/ethereum-optimism/optimism/issues/17907) continues to discuss the impact of new fields in `rollupConfig.Genesis.SystemConfig` on zk stacks. The latest comments confirm that `kona-client/v1.2.0` is now Jovian-ready, but also highlight that `op-succinct` and `kailua` are currently broken due to these changes. There's a debate on whether to update `op-succinct/kailua` or add a nullable system config, with concerns raised about uncoordinated API changes affecting third-party integrations.

### op-devstack EOA Race Conditions
The discussion on [#18063](https://github.com/ethereum-optimism/optimism/issues/18063) about race conditions arising from `dsl.EOA` abuse in `op-devstack` suggests that tests should use new, unique wallets funded by faucets to ensure complete isolation and avoid nonce and balance conflicts when running parallel processes. The idea of a custom test runner for EOA synchronization is considered less powerful, and the `op-acceptor` tool is mentioned as a potential wrapper for the Go test runner.