# ethereum-optimism/optimism Daily Update (Oct 29, 2025)
## OVERVIEW 
Today's development focused on enhancing the `op-devstack` with improved feature management and observability, alongside critical bug fixes for subprocess handling and acceptance tests. Significant progress was also made in refining CI processes and testing infrastructure.

## KEY TECHNICAL DEVELOPMENTS

### Enhanced Devstack Features and CI Improvements
The `op-devstack` now supports individual dev features, allowing for easier combination and preventing accidental disabling of features ([#17994](https://github.com/ethereum-optimism/optimism/pull/17994)). CI configurations were updated to properly run dev feature tests within the contracts test suite ([#18051](https://github.com/ethereum-optimism/optimism/pull/18051)). Additionally, monitoring capabilities have been enabled in `sysgo` to provide L2 observability for `op-devstack` ([#18017](https://github.com/ethereum-optimism/optimism/pull/18017)).

### Critical Bug Fixes and Test Stability
Several bug fixes were implemented to improve system stability. A race condition in `op-devstack`'s subprocess handling, which caused occasional test flakes, has been resolved by ensuring proper reading of `cmd.StdoutPipe()` before `cmd.Wait()` ([#17815](https://github.com/ethereum-optimism/optimism/pull/17815)). Two "papercuts" in `op-acceptance-tests` were fixed, addressing frequent warning logs from the spammer and improving retry logic for L1 origin lookups in DA footprint tests ([#18067](https://github.com/ethereum-optimism/optimism/pull/18067)).

### Testing Infrastructure and Code Refinements
The Cannon "next" VM handling in e2e tests was reworked to re-enable skipping, cleaning up a previous quick fix ([#18064](https://github.com/ethereum-optimism/optimism/pull/18064)). The spammer budget in `op-acceptance-tests` was increased to prevent "insufficient funds" errors on Jovian alphanet ([#18080](https://github.com/ethereum-optimism/optimism/pull/18080)). Redundant error checks in the deriver were removed ([#18069](https://github.com/ethereum-optimism/optimism/pull/18069)), and the Cannon witness output now includes the state version for easier correctness confirmation ([#18068](https://github.com/ethereum-optimism/optimism/pull/18068)).

## NEWLY OPENED PULL REQUESTS
- [#18079](https://github.com/ethereum-optimism/optimism/pull/18079) feat: OPCM v2
- [#18078](https://github.com/ethereum-optimism/optimism/pull/18078) opcm: Update OPCM.migrate to support Cannon-Kona games
- [#18077](https://github.com/ethereum-optimism/optimism/pull/18077) dependabot(gomod): bump github.com/lmittmann/w3 from 0.19.5 to 0.20.5
- [#18076](https://github.com/ethereum-optimism/optimism/pull/18076) feat: cgt
- [#18075](https://github.com/ethereum-optimism/optimism/pull/18075) chore(sync): custom gas token
- [#18074](https://github.com/ethereum-optimism/optimism/pull/18074) fix(op-batcher): exempt generic da from max input size
- [#18073](https://github.com/ethereum-optimism/optimism/pull/18073) chore(op-acceptance-tests): flake-shake; test promotions
- [#18072](https://github.com/ethereum-optimism/optimism/pull/18072) op-acceptance-test: restricted tx mempool verification
- [#18071](https://github.com/ethereum-optimism/optimism/pull/18071) feat: Add configuration for the default finality lookback

## CLOSED ISSUES

### Test Stability and Observability
A flaky `TestSubProcess` test, which had failed 14 times in the past week, has been resolved ([#17553](https://github.com/ethereum-optimism/optimism/issues/17553)). The issue regarding enabling observability and monitoring in `sysgo` for `op-devstack` has been closed, indicating successful implementation ([#17941](https://github.com/ethereum-optimism/optimism/issues/17941)).

### Proofs and Release Management
The issue tracking U17 releases for proofs, including tagging `op-program` rc, adding prestate to the verified prestates file, and updating the VM runner, has been closed ([#18058](https://github.com/ethereum-optimism/optimism/issues/18058)).

## NEW ISSUES

### L3 Chain Configuration Challenges
A new issue highlights the need for `op-node` and `op-program` to have the ability to skip L1 chain configuration for L3s, as the current requirement breaks L3 functionality. This is particularly relevant for L3s where the "L1" chain ID might be a known L2 chain ID ([#18070](https://github.com/ethereum-optimism/optimism/issues/18070)).

### Acceptance Test Flakiness
Two new issues report consistent failures in `op-acceptance-tests`. Specifically, `base/TestTransfer` is failing on persistent devnets with assertion errors ([#18081](https://github.com/ethereum-optimism/optimism/issues/18081)), and `ecotone/TestFees` is also consistently failing with errors related to `op-devstack/dsl/ecotone_fees.go` ([#18082](https://github.com/ethereum-optimism/optimism/issues/18082)).

## ACTIVE ISSUES

### Jovian Rollup Configuration Compatibility
Discussion continues on [#17907](https://github.com/ethereum-optimism/optimism/issues/17907) regarding not marshaling new fields in `rollupConfig.Genesis.SystemConfig` until Jovian is active, as this is breaking some zk stacks like `op-succinct` and `kailua`. A new field, `daFootprintGasScalar`, has again caused issues for third-party integrations. The discussion revolves around whether to update `op-succinct`/`kailua` or add a nullable system config, and the need for better versioning or expectations for RPC method bodies. A new Kona release for Jovian is now available.

### Resolving Race Conditions in `op-devstack`
Issue [#18063](https://github.com/ethereum-optimism/optimism/issues/18063) addresses race conditions arising from `dsl.EOA` abuse in `op-devstack`. The latest comments suggest that tests should not assume complete ownership of a `*dsl.EOA` if multiple processes are using the same account. It is proposed that new, unique wallets should be funded on request for tests to ensure complete isolation and avoid nonce and balance issues. The idea of a custom test runner for parallelization is also being discussed, with considerations for tests that inherently cannot be parallelized.

### Celestia Batcher DA Size Fix
Issue [#17872](https://github.com/ethereum-optimism/optimism/issues/17872) is tracking the investigation into upstreaming a fix for the Celestia batcher DA size. A PR has been opened ([#18074](https://github.com/ethereum-optimism/optimism/pull/18074)) to address this, indicating that the fix was trivial to implement.