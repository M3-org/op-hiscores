# ethereum-optimism/optimism Daily Update (Jun 27, 2025)
## OVERVIEW 
Today's development focused on enhancing flashblocks awareness, refining contract management, and improving devnet compatibility. Significant progress was made in testing infrastructure and supervisor functionalities.

## KEY TECHNICAL DEVELOPMENTS

### Flashblocks Integration and Testing
- Added flashblocks-websocket-proxy awareness to flashblocks gate, including configuration parsing and hydration for the L2 network. ([#16584](https://github.com/ethereum-optimism/optimism/pull/16584))
- Extended `no_output_timeout` for Cannon e2e tests to prevent failures. ([#16615](https://github.com/ethereum-optimism/optimism/pull/16615))
- Introduced support for different block times in interop load tests within `op-acceptance-tests`. ([#16611](https://github.com/ethereum-optimism/optimism/pull/16611))

### Contract and Devnet Enhancements
- Fixed parameter passing and improved type safety in `OPContractsManager.sol` by switching to `abi.encodeCall` and updating the contract version. ([#16581](https://github.com/ethereum-optimism/optimism/pull/16581))
- Improved compatibility of `kt-devnet` with `devnet-sdk` system tests, addressing unsafe assumptions about the first node being a sequence. ([#16589](https://github.com/ethereum-optimism/optimism/pull/16589))
- Updated tests in the `/L1` folder for validation compliance and reduced the exclusion list. ([#16596](https://github.com/ethereum-optimism/optimism/pull/16596))

### Supervisor and Node Reset Logic
- Implemented local unsafe target determination at the supervisor level, enabling the supervisor to initiate resets when the node requires one. ([#16557](https://github.com/ethereum-optimism/optimism/pull/16557))
- Added an invalid block trigger to failsafe enablement in `op-supervisor`, activating `FailsafeEnabled` upon `InvalidateLocalSafeEvent`. ([#16593](https://github.com/ethereum-optimism/optimism/pull/16593))

## NEWLY OPENED PULL REQUESTS
- [#16609](https://github.com/ethereum-optimism/optimism/pull/16609): Script to deploy OP contracts on L1.

## CLOSED ISSUES
No issues were closed today.

## NEW ISSUES
### Supervisor Event Congestion
- [#16603](https://github.com/ethereum-optimism/optimism/issues/16603): Investigate spikes of `local-derived` events in `op-supervisor`, with speculation pointing to potential `ChainsDB` or `GlobalSyncExec` deadlocks.

### Node Interop API Consolidation
- [#16604](https://github.com/ethereum-optimism/optimism/issues/16604): Consolidate `interop_blockRefByNumber` and `interop_l2BlockRefByNumber` in `op-node`, noting that `interop_l2BlockRefByNumber` was temporarily added for supervisor-side unsafe target determination.

### Dependency Resolution
- [#16612](https://github.com/ethereum-optimism/optimism/issues/16612): Report of a broken dependency `github.com/tyler-smith/go-bip39` in `op-chain-ops`, with discussion on using a fork (`cosmos/go-bip39`) but noting version discrepancies.

## ACTIVE ISSUES
### Abnormal CPU Usage with op-geth
- [#613](https://github.com/ethereum-optimism/optimism/issues/613): Users continue to report high CPU usage with `op-geth` v1.101511.0. Recent comments suggest the issue might be related to index updates, with one user confirming CPU usage returned to normal after the update completed. Another user provided instructions for generating pprof profiles to aid in debugging.

### Supervisor Reset Target Improvement
- [#16314](https://github.com/ethereum-optimism/optimism/issues/16314): Discussion on improving `op-supervisor` and `op-node` reset unsafe target. A recent comment notes that [#16557](https://github.com/ethereum-optimism/optimism/pull/16557) partially implemented the supervisor's responsibility for providing correct reset targets, but further work is needed for pre- and post-Interop handling.

### L1 Origin Validity During Resets
- [#16315](https://github.com/ethereum-optimism/optimism/issues/16315): Focus on improving L1 origin validity handling during supervisor resets. The latest comment highlights that [#16557](https://github.com/ethereum-optimism/optimism/pull/16557) introduced an L1 origin verifier at the supervisor side for local unsafe targets, but this logic needs to be extended to safe heads to ensure all supervisor-provided targets are valid.

### Reorg Behavior During Resets
- [#16321](https://github.com/ethereum-optimism/optimism/issues/16321): Addressing reorgs during ongoing resets. The current status, following [#16557](https://github.com/ethereum-optimism/optimism/pull/16557), indicates that local unsafe head detection now checks L1 origin validity at the supervisor, but other safety levels still lack this check, as tracked in [#16315](https://github.com/ethereum-optimism/optimism/issues/16315).