# ethereum-optimism/optimism Daily Update (Jun 23, 2025)
## OVERVIEW 
Today's development focused on enhancing testing infrastructure with new flashblocks and withdrawal tests, alongside significant internal refactoring for supervisor and node modes. Improvements were also made to `op-service` utilities and `op-supervisor` database handling.

## KEY TECHNICAL DEVELOPMENTS

### Enhanced Testing and Acceptance Framework
New acceptance tests were introduced to validate flashblocks transfer functionality ([#16515](https://github.com/ethereum-optimism/optimism/pull/16515)) and withdrawals with super roots ([#16491](https://github.com/ethereum-optimism/optimism/pull/16491)). Debug prints were removed from acceptance tests to streamline output ([#16535](https://github.com/ethereum-optimism/optimism/pull/16535)), and an adversarial load test was added for interop scenarios ([#16433](https://github.com/ethereum-optimism/optimism/pull/16433)).

### Internal System Renaming and Event Handling Improvements
The supervisor and op-node modes underwent renaming for clarity and consistency ([#16464](https://github.com/ethereum-optimism/optimism/pull/16464)). A new gauge was added to `op-node/rollup/event` to monitor inflight events by type, aiding in debugging and performance analysis ([#16473](https://github.com/ethereum-optimism/optimism/pull/16473)). Additionally, the context (`ctx`) was separated from event objects in `op-node` and `op-supervisor` to improve modularity ([#16540](https://github.com/ethereum-optimism/optimism/pull/16540)).

### `op-service` and `op-supervisor` Utility Enhancements
The `op-faucet` now includes a `faucet_balance` RPC and checks for fund insufficiency on `requestETH` ([#16516](https://github.com/ethereum-optimism/optimism/pull/16516)). `op-supervisor` was updated to use a compare-and-swap (CAS) pattern for atomic operations ([#16525](https://github.com/ethereum-optimism/optimism/pull/16525)), and `op-service/safemath` gained `SaturatingSub` and `SafeSub` functions for robust arithmetic operations ([#16539](https://github.com/ethereum-optimism/optimism/pull/16539)). Database support in `op-supervisor` was improved for reorging out starting blocks ([#16541](https://github.com/ethereum-optimism/optimism/pull/16541)).

## NEWLY OPENED PULL REQUESTS
No new pull requests were opened today.

## CLOSED ISSUES

### Testing and Interoperability Enhancements
Several issues related to testing and interoperability were closed. This includes the completion of acceptance testing for the withdrawal path ([#15958](https://github.com/ethereum-optimism/optimism/issues/15958)), investigation into event logger alternatives for interop load tests ([#16039](https://github.com/ethereum-optimism/optimism/issues/16039)), and the addition of a test to maximize executing messages ([#16434](https://github.com/ethereum-optimism/optimism/issues/16434)).

### System Renaming and Documentation
The issue tracking the renaming of supervisor and op-node modes was closed ([#16379](https://github.com/ethereum-optimism/optimism/issues/16379)), indicating the successful completion of this internal refactoring.

### Performance and Memory Optimization
An issue focused on spiking memory usage in the batcher during L1 congestion was closed ([#16537](https://github.com/ethereum-optimism/optimism/issues/16537)). This suggests progress in optimizing memory consumption, with discussions highlighting the compressor as a key area for improvement.

## NEW ISSUES

### Flashblocks and Interoperability Development
New issues were opened to configure `reth-enabled` flashblocks nodes ([#16544](https://github.com/ethereum-optimism/optimism/issues/16544)) and to spike out a potential `op-node/op-supervisor` v2 ([#16545](https://github.com/ethereum-optimism/optimism/issues/16545)), indicating future development directions for core components.

### Testing and Audit Findings
An issue was created to address an RV Audit finding regarding `TestCrossSafeUpdate` testing impossible cases and a lack of clear `invalid` signal during Hazard Set construction ([#16548](https://github.com/ethereum-optimism/optimism/issues/16548)). Another issue notes that in `op-acceptance-tests` load tests, onchain balance sometimes depletes before the offchain budget ([#16536](https://github.com/ethereum-optimism/optimism/issues/16536)).

## ACTIVE ISSUES

### `op-batcher` Memory Optimization
Discussion on [#16537](https://github.com/ethereum-optimism/optimism/issues/16537) (spike(op-batcher): optimize memory consumption) continued with `geoknee` providing detailed steps for running `pprof` to identify memory usage, specifically pointing to the compressor as the main culprit. `geoknee` also suggested two optimizations: making the shadow compressor use half the memory and eagerly discarding the compressor after channel submission. `sebastianst` initially suggested using a memory profiler.

### `op-node` Trivial-Interop Mode
On [#16519](https://github.com/ethereum-optimism/optimism/issues/16519) (op-node: Trivial-interop mode without supervisor), `sebastianst` clarified that the goal is to prevent churn for chain operators by allowing them to run `op-node` without a supervisor for trivial depsets, even before interop merging is fully implemented. `Inphi` questioned the necessity of this, suggesting that the upgrade path to merging 1-depset chains with an existing interop cluster might be more complicated if they are not already driven by a supervisor.

### Redundant Assertions in StandardValidator
On [#16362](https://github.com/ethereum-optimism/optimism/issues/16362) (Remove redundant assertions outside of the StandardValidator), `AmadiMichael` outlined a two-phase plan: first, removing redundant checks from deploy scripts that already exist in `ChainAssertions.sol`, and second, moving checks from `ChainAssertions.sol` to the `StandardValidator`. They also noted the potential for codesize limits and suggested moving some checks to a child contract if exceeded.