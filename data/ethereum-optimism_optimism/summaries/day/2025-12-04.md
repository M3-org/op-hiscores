# ethereum-optimism/optimism Daily Update (Dec 4, 2025)
## OVERVIEW 
Today's development focused on significant contract refactoring for `OPContractsManagerV2`, improving test coverage for `AddressAliasHelper` and `SystemConfig`, and enhancing blob fetching logic in `op-service`. Several new issues were opened, primarily addressing `kona-sp1` and `op-batcher` functionalities.

## KEY TECHNICAL DEVELOPMENTS

### OP Stack Contract Refinements
A major feature involved breaking out `OPContractsManagerV2` utilities into a separate `OPContractsManagerUtils` contract, significantly reducing code size and improving modularity. This change impacts various core contract files and deployment scripts. ([#18454](https://github.com/ethereum-optimism/optimism/pull/18454))

### Enhanced Testing and Stability
Improvements were made to contract testing, specifically adding coverage for `AddressAliasHelper` and fixing a flaky test in `SystemConfig`. Additionally, a CI workflow was updated to resolve bash history expansion issues, enhancing build stability. ([#18360](https://github.com/ethereum-optimism/optimism/pull/18360), [#18498](https://github.com/ethereum-optimism/optimism/pull/18498))

### Blob Handling Improvements
The blob fetching logic in `op-service` was updated to correctly detect and handle duplicate blob hashes, ensuring robust data retrieval. Related tests were also refined for better clarity and assertion. ([#18492](https://github.com/ethereum-optimism/optimism/pull/18492), [#18497](https://github.com/ethereum-optimism/optimism/pull/18497))

## NEWLY OPENED PULL REQUESTS
*   **Testing & Refactoring:** New PRs include a custom test contract for `makeAddr` ([#18509](https://github.com/ethereum-optimism/optimism/pull/18509)) and a work-in-progress refactor to move to `ComponentIDs` ([#18504](https://github.com/ethereum-optimism/optimism/pull/18504)).
*   **Node & Service Enhancements:** Several PRs focus on `op-node` and `op-service`, such as fixing `flashblocks` handler leaks in `op-conductor` ([#18506](https://github.com/ethereum-optimism/optimism/pull/18506)), light CL following source using EL or CL ([#18500](https://github.com/ethereum-optimism/optimism/pull/18500)), respecting configured timeouts in `RateLimitingClient` ([#18499](https://github.com/ethereum-optimism/optimism/pull/18499)), and detecting duplicate blobs ([#18491](https://github.com/ethereum-optimism/optimism/pull/18491)).
*   **Internal Debugging:** Two PRs related to `falco/debug` and `falco/troubleshoot` were opened ([#18496](https://github.com/ethereum-optimism/optimism/pull/18496), [#18495](https://github.com/ethereum-optimism/optimism/pull/18495)).

## CLOSED ISSUES
*   **Documentation Clarification:** An issue regarding documentation on `/node-operators/reference/consensus-layer-sync` ([#1895](https://github.com/ethereum-optimism/optimism/issues/1895)) was closed, with an offer to reopen if more context is provided.

## NEW ISSUES
*   **Kona-SP1 Program Refinements:** Several issues were opened to enhance the `kona-sp1` program, including replacing the rollup config hash with an L2 chain ID ([#18493](https://github.com/ethereum-optimism/optimism/issues/18493)), deduping logic by leveraging `kona-proof` implementations ([#18494](https://github.com/ethereum-optimism/optimism/issues/18494)), and investigating L1 head offset requirements ([#18503](https://github.com/ethereum-optimism/optimism/issues/18503)).
*   **Contract & System Configuration:** An issue was created to remove the `SystemConfig::isCustomGasToken` override allowance for OPCMv2 after the U18 upgrade ([#18502](https://github.com/ethereum-optimism/optimism/issues/18502)).
*   **Performance & Batcher Improvements:** New issues address the need for an action test asserting EIP-2935 usage for faster canonical block queries ([#18505](https://github.com/ethereum-optimism/optimism/issues/18505)), handling post-Holocene ordering in `op-batcher` concurrent mode ([#18507](https://github.com/ethereum-optimism/optimism/issues/18507)), and allowing configurable frame size and multi-frame transactions in `op-batcher` ([#18508](https://github.com/ethereum-optimism/optimism/issues/18508)).

## ACTIVE ISSUES
*   **op-node stuck in EL sync mode after restart** ([#18468](https://github.com/ethereum-optimism/optimism/issues/18468)): Users are experiencing `op-node` getting stuck in an EL sync loop when restarted after syncing with reth. A temporary workaround suggested is to change the sync mode from EL sync to CL sync and restart the `op-node`. This issue is impacting Base Mainnet nodes configured for execution layer syncing.