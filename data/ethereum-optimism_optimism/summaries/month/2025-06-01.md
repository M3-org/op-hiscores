# ethereum-optimism/optimism Monthly Report (June 2025)

## üöÄ Highlights
June was a month of significant progress in bolstering the Superchain's robustness, testability, and deployment capabilities. Development efforts were heavily concentrated on enhancing the testing infrastructure, with the introduction of new acceptance tests for flashblocks, withdrawals, and interop load scenarios. Core components like `op-supervisor` and `op-node` received critical updates to improve stability, particularly around reset logic and event handling. The `op-deployer` was enhanced to support v4.0.0 upgrades and custom Superchain configurations, while the team actively triaged and addressed stability issues like `op-node` goroutine leaks and `op-supervisor` event overflows.

## üõ†Ô∏è Key Developments
Work this month focused on strengthening the core stack, improving deployment tooling, and expanding test coverage for advanced features.

### Enhanced Testing and Acceptance Framework
The project's testing infrastructure saw major enhancements to improve reliability and expand coverage for Superchain functionalities.
- **New Acceptance Tests:** New tests were added to validate flashblocks transfer functionality ([#16515](https://github.com/ethereum-optimism/optimism/pull/16515)), withdrawals with super roots ([#16491](https://github.com/ethereum-optimism/optimism/pull/16491)), and an adversarial load test for interop scenarios ([#16433](https://github.com/ethereum-optimism/optimism/pull/16433)).
- **Test Validation and Compliance:** A new validation script was introduced to enforce consistent Forge test conventions ([#16543](https://github.com/ethereum-optimism/optimism/pull/16543)), and numerous test files were updated to align with these new rules ([#16561](https://github.com/ethereum-optimism/optimism/pull/16561), [#16590](https://github.com/ethereum-optimism/optimism/pull/16590), [#16596](https://github.com/ethereum-optimism/optimism/pull/16596)).
- **Interop Testing:** An `interop-loadtest` gate was added to manage load test execution ([#16564](https://github.com/ethereum-optimism/optimism/pull/16564)), and support for different block times in interop load tests was introduced ([#16611](https://github.com/ethereum-optimism/optimism/pull/16611)).

### `op-supervisor` and `op-node` Robustness
Significant effort was invested in making the supervisor and node more resilient, particularly in handling resets, reorgs, and interop events.
- **Reset and Reorg Logic:** `op-node` was modified to search backwards for the latest valid unsafe head during resets, optimizing for L1 reorgs ([#16312](https://github.com/ethereum-optimism/optimism/pull/16312)). The `op-supervisor` now determines the local unsafe target itself, enabling it to initiate resets when needed ([#16557](https://github.com/ethereum-optimism/optimism/pull/16557)).
- **System Renaming and Event Handling:** Supervisor and op-node modes were renamed for better clarity ([#16464](https://github.com/ethereum-optimism/optimism/pull/16464)). A new gauge was added to monitor inflight events by type, aiding in debugging performance issues ([#16473](https://github.com/ethereum-optimism/optimism/pull/16473)).
- **Failsafe API:** A new API was introduced for the `op-supervisor`'s Failsafe mode, allowing for better administrative control ([#16582](https://github.com/ethereum-optimism/optimism/pull/16582)).

### Deployment Tooling (`op-deployer`)
The `op-deployer` was a key focus, with enhancements to support network upgrades and custom chain deployments.
- **V4.0.0 Upgrade Support:** Support was added for upgrading and validating v4.0.0 configurations, crucial for future network upgrades ([#16048](https://github.com/ethereum-optimism/optimism/pull/16048)).
- **Bug Fixes and Enhancements:** A bug was fixed to correctly handle the L1 contracts release flag ([#16316](https://github.com/ethereum-optimism/optimism/pull/16316)), and incorrect artifact hashes were corrected ([#16562](https://github.com/ethereum-optimism/optimism/pull/16562), [#16565](https://github.com/ethereum-optimism/optimism/pull/16565)). New end-to-end bootstrap tests were also added ([#16575](https://github.com/ethereum-optimism/optimism/pull/16575)).
- **Custom Superchains:** New documentation was added to guide users on custom Superchain deployments ([#16309](https://github.com/ethereum-optimism/optimism/pull/16309]), and support for custom OPCM was integrated ([#16546](https://github.com/ethereum-optimism/optimism/pull/16546)).

### Core Component and CI/CD Improvements
- **`op-batcher`:** The batcher was improved to better detect "not yet ready" sync statuses ([#16298](https://github.com/ethereum-optimism/optimism/pull/16298)) and simplified by removing a redundant flag ([#16413](https://github.com/ethereum-optimism/optimism/pull/16413)).
- **Transaction Management:** A feature was added to allow rebroadcasting of signed transactions without a fee bump, improving flexibility ([#16310](https://github.com/ethereum-optimism/optimism/pull/16310)).
- **CI Pipeline:** The CI pipeline was optimized by caching `solc` compiler versions ([#16317](https://github.com/ethereum-optimism/optimism/pull/16317)) and Rust installations ([#16480](https://github.com/ethereum-optimism/optimism/pull/16480)) to speed up builds.

## üêõ Issues & Triage
The month saw a focus on resolving CI instability, advancing flashblocks integration, and triaging critical node and supervisor stability reports.

- **Closed Issues:**
  - **CI/CD:** The investigation into CI flakiness concluded with the release of a flake report generator and improved test stability ([#16271](https://github.com/ethereum-optimism/optimism/issues/16271)). The proposal to adopt formal CI SLAs was explored and closed for now ([#16437](https://github.com/ethereum-optimism/optimism/issues/16437)).
  - **Flashblocks:** The issue to enable flashblocks on the `eris-0` testnet was completed, marking a key milestone ([#16468](https://github.com/ethereum-optimism/optimism/issues/16468)).
  - **Testing:** Several testing-related issues were closed, including the completion of withdrawal path acceptance testing ([#15958](https://github.com/ethereum-optimism/optimism/issues/15958)) and the addition of a test to maximize executing messages across chains ([#16434](https://github.com/ethereum-optimism/optimism/issues/16434)).
  - **Superchain Operations:** A large number of issues related to `superchain-ops` task management, simulation, and validation were resolved, streamlining operational workflows ([#337](https://github.com/ethereum-optimism/optimism/issues/337), [#342](https://github.com/ethereum-optimism/optimism/issues/342), [#654](https://github.com/ethereum-optimism/optimism/issues/654)).

- **New & Active Issues:**
  - **Node and Supervisor Stability:** A critical issue regarding `op-node` v1.13.3 getting stuck with thousands of goroutines remains active, with multiple users reporting sync failures ([#16332](https://github.com/ethereum-optimism/optimism/issues/16332)). Similarly, an `op-supervisor` crash-loop caused by event overflow is under active investigation, with PRs opened to add better monitoring ([#16335](https://github.com/ethereum-optimism/optimism/issues/16335)).
  - **Future Architecture:** A series of new issues ([#16519](https://github.com/ethereum-optimism/optimism/issues/16519), [#16520](https://github.com/ethereum-optimism/optimism/issues/16520), [#16521](https://github.com/ethereum-optimism/optimism/issues/16521)) were opened to explore a "trivial-interop" mode for `op-node` that would not require a supervisor, sparking discussion on the future upgrade path for single-chain deployments.
  - **Persistent Bugs:** The long-standing issue of `eth_getTransactionCount` returning an incorrect nonce for pending transactions ([#623](https://github.com/ethereum-optimism/optimism/issues/623)) continues to receive comments from affected users, highlighting its ongoing impact.
  - **Flashblocks Progression:** New issues were created to track the non-public enablement of flashblocks on `op-sepolia` ([#16496](https://github.com