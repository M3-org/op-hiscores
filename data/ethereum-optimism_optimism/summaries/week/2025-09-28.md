# ethereum-optimism/optimism Weekly Report (Sep 28 - 4, 2025)

## üöÄ Highlights
This week marked a major milestone with the successful enablement of Flashblocks on op-mainnet, completing a significant initiative for preconfirmations. Alongside this deployment, there was a substantial push to overhaul the project's testing and CI/CD infrastructure. Key improvements include the introduction of a "flake-shaker" system to detect unstable tests, nightly heavy fuzz testing for contracts, and enhanced mocking capabilities in `op-sync-tester`. Core protocol components, particularly the `op-node`'s EngineController, received significant refactoring to improve stability and correctness. A critical compatibility issue with Go 1.25 affecting Cannon's cryptographic functions has been identified and is under active investigation.

## üõ†Ô∏è Key Developments
Work this week focused on enhancing protocol stability, improving deployment processes, and massively scaling up testing infrastructure.

-   **Testing and CI/CD Overhaul:**
    -   A new "flake-shaker" system was introduced to validate test stability by running them multiple times to detect flakiness before merge ([#17646]).
    -   CI was enhanced with a nightly job for heavy fuzz testing of smart contracts ([#17668]) and consolidated workflows for `op-acceptance-tests` ([#17673]).
    -   Testing capabilities were expanded with EL engine mocking support in `op-sync-tester` to better validate L2CL sync ([#17645]), and new acceptance tests were added for L1 Osaka activation ([#17666]) and unsafe chain stalling scenarios ([#17696]).
    -   The AI contract testing system was improved to handle API timeouts and prevent redundant work ([#17616]).

-   **Node Stability and Core Protocol Refinements:**
    -   The `op-node`'s EngineController underwent significant refactoring to improve locking mechanisms and stability during concurrent operations ([#17647], [#17648]).
    -   The node architecture was streamlined by merging the `EngineResetDeriver` into the `EngineController` ([#17662]) and removing the `ReceivedUnsafePayloadEvent` to simplify sync logic ([#17530]).
    -   The L1ChainConfig is now embedded directly into the configuration for `op-node`, `op-program`, and `kona`, improving handling of L1 block info post-Ecotone ([#17568]).
    -   The codebase was updated to a new `op-geth` commit ([#17661]), and a dependency on a removed `go-bip39` package was replaced ([#17526]).

-   **Contract Security and Deployment Enhancements:**
    -   A full implementation of the `TimelockGuard` was completed, featuring external signature validation for enhanced security ([#17584]).
    -   The OP Contracts Manager was updated to support Cannon and Kona games, allowing for incremental prestate updates ([#17512]).
    -   To prevent non-deterministic optimizer results, protocol versions were added to contract restrictions ([#17651]).
    -   The `op-deployer`'s default `GasPadFactor` was reduced to keep deployment transactions within gas limits ([#17710]), and it was updated to allow custom Etherscan URLs ([#17674]).

## üêõ Issues & Triage

-   **Closed Issues:**
    -   **Flashblocks Rollout:** A major set of issues related to the Flashblocks initiative were closed, marking its successful deployment on op-mainnet ([#16498]), completion of documentation and onboarding ([#17142], [#17664]), and refinement of alerts ([#17423]).
    -   **Project Trackers Completed:** Several large-scale project trackers were closed, signifying the completion of the Isthmus Upgrade ([#12703]), devnet/interop testing simplification ([#16442], [#14122], [#15574]), and reorg testing ([#14530]).
    -   **Protocol Stability:** An EL sync correctness issue related to parallelism in the EngineController was resolved ([#17564]), and an investigation into EL sync start conditions was concluded ([#17628]).

-   **New & Active Issues:**
    -   **Critical Blocker:** A significant issue is being tracked where Cannon produces incorrect Keccak hashes when compiled with Go 1.25, impacting block hash calculations. The underlying Go issue has been identified, but a fix is not yet available in the latest Go patch release ([#17060]).
    -   **Future Work & Performance:** New issues were opened to explore performance tuning for Flashblocks by testing a 200ms configuration ([#17676], [#17677]). Discussions also began on improving sequencer infrastructure and implementing new health checks for `op-rbuilder` ([#17685]).
    -   **Specification & Configuration:** A new requirement was filed specifying that the Jovian activation block must only contain deposit transactions ([#17704]). A need for better documentation on EL Sync behavior was also highlighted ([#17693]).
    -   **Strategic Shift:** Discussion on an active issue ([#17475]) indicates a strategic shift from integrating `op-reth` into the deprecated Kurtosis devnet to focusing on the `devstack / sysgo` system.

## üí¨ Community & Collaboration
This week saw intense, focused collaboration within the core development team, particularly around protocol stability and testing infrastructure. The active discussion on the Go 1.25 compatibility issue ([#17060]) involving multiple team members (@sebastianst, @pauldowman, @ajsutton) demonstrates rapid, collaborative problem diagnosis. The closure of a very old issue ([#686]) after a discussion between team members shows healthy backlog grooming and a focus on current priorities. The high volume of interconnected pull requests and issues reflects a tightly coordinated effort to harden the OP Stack and prepare for future network upgrades.