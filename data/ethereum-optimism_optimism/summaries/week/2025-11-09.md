# ethereum-optimism/optimism Weekly Report (Nov 9 - 15, 2025)

## üöÄ Highlights
This week was characterized by a significant push to enhance the project's foundational infrastructure, with a dual focus on bolstering the CI/CD pipeline and expanding test coverage. Major efforts were undertaken to improve the stability and efficiency of continuous integration, including migrating away from self-hosted runners and optimizing artifact management. Concurrently, the testing framework saw substantial upgrades, with expanded test matrices for different L1 configurations and increased fuzz testing for core contracts. These infrastructure-focused initiatives were complemented by critical bug fixes in core components like `cannon` and `op-node`, collectively strengthening the reliability and development velocity of the OP Stack.

## üõ†Ô∏è Key Developments
Work this week centered on improving testing, CI/CD, and core component stability.

### Testing Infrastructure & Test Coverage
A major theme was the enhancement of the testing framework to improve reliability and coverage across different network configurations.
- **`op-devstack` Refactoring:** The method for requiring L2 forks within `op-devstack` was refactored, streamlining the structure for managing network configurations across acceptance tests for Ecotone, Fjord, Isthmus, and Jovian ([#18226], [#18228]).
- **Expanded Test Matrix:** The `op-acceptance-tests` suite was expanded to run Jovian tests against Pectra and BPO2 L1 configurations, broadening test coverage ([#18005]).
- **Kona Prestate Testing:** Support was added to `cannon-kona` for building and using Kona prestates in dev stack tests, improving efficiency through CircleCI caching ([#18144]).
- **Test Stability:** Several fixes were merged to reduce flakiness, including ensuring the contract deployer has sufficient ETH ([#18230]) and guarding against empty tests in CI ([#18238]).
- **Contract Test Improvements:** Test coverage for core contracts was significantly improved by converting hardcoded tests to fuzz tests for the Hashing library ([#18195]) and adding new tests and fuzzing for the RLPWriter library ([#18119]).

### CI/CD Pipeline Optimization
The CI/CD pipeline received numerous upgrades to improve speed, reliability, and resource management.
- **Artifact Management:** Support for `zstd` compression was added for contract scripts ([#18237]), and parallel composite uploads were disabled for `publish-contract-artifacts` to prevent timeouts ([#18236]).
- **Resource Allocation:** The CI machine size for publishing contract artifacts was increased to resolve out-of-memory issues ([#18257]).
- **Runner Migration:** The project migrated away from self-hosted runners, removing related checkout optimizations and `latitude-1` box configurations ([#18260], [#18259], [#18251]).
- **Checkout Optimization:** Blobless checkouts were introduced for simple, low-risk jobs to speed up the pipeline ([#18249]).

### Core Component Stability and Refinements
Several bug fixes and refinements were made to core services and tooling.
- **Bug Fixes:** Critical fixes were implemented to prevent `op-faucet` from timing out ([#18235]) and to ensure the `cannon` preimage server channels close properly during shutdown, preventing hangs ([#18229]).
- **`op-node` Improvements:** The `op-node` was updated to debounce Fork Choice Update (FCU) calls to enhance stability ([#18234]) and to ensure driver start logs are captured ([#18254]).
- **Code Cleanup:** Outdated components were removed, including `DeployPreimageOracle` scripts ([#18151]) and support for L2OO withdrawals from `op-e2e` ([#18201]).
- **Tooling:** A general-purpose GitHub release binary downloader was added to `op-service` for fetching dependencies like `forge` ([#18245]), and the `op-deployer` was updated to include `AnchorStateRegistry` and `Opcm` components in its `state.json` output ([#18241]).

## üêõ Issues & Triage

### Closed Issues
Key problems resolved this week focused on testing and CI stability:
- **Expanded Test Matrix:** An issue to expand the `op-acceptance-tests` to run Jovian tests against different L1s (Pectra, Fusaka) was closed, marking the completion of this testing enhancement ([#17980]).
- **CI Stability:** An intermittent failure in the `check-for-changes` CI step, caused by a checkout workaround, was resolved ([#18258]).
- **Test Validation:** An issue confirming that Kona had passing action tests for Jovian was closed, verifying their inclusion in the test suite ([#17303]).

### New & Active Issues
Discussions this week centered on system safeguards, CI reliability, and protocol-level optimizations.
- **New Issues:** A new issue was opened to improve safeguards when updating the batcher on the `SystemConfig` ([#18246]), highlighting a need for enhanced protection during critical updates. Other new issues report sporadic timeouts in acceptance tests ([#18261]).
- **Active Discussions:**
    - **`op-node` FCU Optimization ([#15393]):** There is an ongoing discussion about reducing the frequency of Fork Choice Update (FCU) messages sent by `op-node`. A recent merge ([#18234]) may partially address this, but the core discussion revolves around batching updates to avoid spamming the execution layer, especially over networks with higher latency.
    - **Documentation Requirements ([#18095]):** A discussion highlighted the need to formally document the `cannon-kona` prestate requirement for standard chain upgrades, ensuring devrel communicates this to node operators.

## üí¨ Community & Collaboration
The week's activity reflects a strong, coordinated effort to improve the project's underlying infrastructure. The numerous PRs targeting CI/CD and the testing framework suggest a focused initiative by the core team to enhance developer experience and ensure long-term stability. The detailed technical discussion in active issues, such as the `op-node` FCU optimization ([#15393]), demonstrates deep collaboration on complex architectural problems. Additionally, the refinement of an AI engineering prompt for test maintenance ([#18248]) offers a glimpse into the team's innovative internal processes aimed at improving review efficiency.