# ethereum-optimism/optimism Weekly Report (Sep 21 - 27, 2025)

## üöÄ Highlights
This week saw a major push toward finalizing the Custom Gas Token (CGT) feature, with extensive testing, refinement, and bug fixing based on detailed reviews. Concurrently, significant progress was made in preparing the stack for the upcoming Fusaka upgrade, particularly by ensuring compatibility for `kona-proof` and the `op-batcher`. The team also invested heavily in developer experience and stability, introducing an innovative AI-powered system for maintaining contract tests, streamlining CI/CD pipelines by removing deprecated jobs, and tackling persistent test flakiness. Active investigation into complex L2CL/L2EL synchronization behaviors emerged as a key focus area for ensuring node robustness.

## üõ†Ô∏è Key Developments
Work this week focused on feature completion, upgrade preparation, and infrastructure hardening.

**Custom Gas Token (CGT) Finalization**
The CGT feature moved closer to completion with the addition of comprehensive acceptance tests covering introspection, native payments, and revert scenarios ([#17451]). New invariant tests were added to ensure supply conservation and consistency across mint, burn, deposit, and withdraw functions ([#17489]). Numerous fixes were implemented based on review feedback, addressing issues in acceptance tests, deployer configurations, and e2e utilities ([#17577], [#17612], [#17621]), including a fix for minter authorization in tests ([#17642]).

**Fusaka Upgrade Preparations**
Key components were updated for Fusaka compatibility. The transaction manager (`txmgr`) was modified to allow blobs to be sent with Fusaka-compatible cell proofs, a critical requirement for L2 activation ([#17620]). The `kona-proof` system was also made compatible with L1 chain configurations, ensuring the proving system can correctly interpret L1 data post-upgrade ([#17638]).

**Testing Infrastructure & Stability**
Significant effort was dedicated to improving the reliability and efficiency of the testing suite.
- **AI for Test Maintenance:** A new AI Contract Test Maintenance System was introduced ([#17560], [#17578]) and integrated with the Devin API to automate test improvement workflows ([#17602]).
- **CI/CD Optimization:** Kurtosis-based CI acceptance tests were removed as they are deprecated ([#17581]), and the acceptance job was updated to skip building contract tests, reducing memory usage and execution time ([#17639]).
- **Flakiness Reduction:** The `op-sync-tester` was updated to retry block fetching to prevent flakiness in `TestSyncTesterELSync` ([#17624]), though the test was temporarily disabled to stabilize CI ([#17617]). The test validation script for `contracts-bedrock` was also refactored for better maintainability ([#17510]).

**Dispute Game Advancements**
Progress was made on next-generation dispute games. New creator pattern implementations were integrated for `FaultDisputeGameV2` and `PermissionedDisputeGameV2` ([#17329]). To facilitate development, new feature flags (`CANNON_KONA`, `DEPLOY_V2_DISPUTE_GAMES`) were added to the bedrock contracts test matrix ([#17635]).

**Core Protocol & Deployment Refinements**
- **Contract Security:** Safety checks for the `ETHLockbox` feature were added to `SystemConfig.sol` to improve protocol security ([#17559]).
- **Transaction Management:** The transaction manager was updated to fetch `BlobBaseFee` via RPC, simplifying fee estimation and fixing a concurrency-related flaky test ([#17567], [#17570]).
- **Deployment Tooling:** The `DeployOPChain.s.sol` script was updated to allow arbitrary gas limits ([#17550]), and support for custom `gasLimit` was added to `op-deployer` ([#17585]), providing more flexibility for chain deployments.

## üêõ Issues & Triage

**Closed Issues**
A significant volume of issues was resolved this week, indicating progress across multiple fronts:
- **`superchain-ops` Tooling:** A large batch of issues related to `superchain-ops` tooling was closed, reflecting a major architectural cleanup and improvement in proposal operations, task tracking, and simulation processes ([#49], [#12], [#140], and many others).
- **Custom Gas Token Refinements:** A flurry of issues opened in response to a detailed review of the CGT feature were quickly addressed and closed. This included refactoring tests, clarifying naming, and adding custom errors ([#17586], [#17587], [#17593], [#17596], etc.).
- **Infrastructure & Deployments:** Issues related to the Interop POC implementation ([#17190]), rollup-boost deployments ([#17459], [#17460], [#17461]), and CI capacity ([#17571]) were closed. The issue preparing `op-batcher` for Fusaka was also resolved ([#17472]).
- **Test Stability:** Flaky tests like `TestQueue_Send_MaxPendingMetrics` ([#17554]) and `TestSyncTesterELSync` ([#17615]) were investigated and addressed.

**New & Active Issues**
- **L2CL/L2EL Syncing Challenges:** A series of new issues highlights a deep dive into the complexities of node synchronization. These issues question the conditions required for L2EL to start syncing ([#17628]), how the verifier reaches the chain tip ([#17629]), and why the sequencer cannot advance in EL Sync mode ([#17630]). This represents a significant area of active investigation to ensure node robustness across different client implementations.
- **`superchain-ops` User Experience:** An active discussion ([#1224]) on snags in the improved `superchain-ops` signing flow points to ongoing efforts to refine the user experience for signers, with feedback on task simulation output and the need for clearer documentation.
- **Fusaka Prestate Review:** A new issue was opened to review the Fusaka prestate ([#17575]), signaling the next step in preparing for the network upgrade.

## üí¨ Community & Collaboration
This week's activity highlighted a strong collaborative feedback loop, particularly around the Custom Gas Token feature. The rapid creation and resolution of numerous small, targeted issues ([#17586] through [#17605]) suggests a thorough and interactive code review process. Discussions on active issues like the `superchain-ops` flow ([#1224]) and L2EL syncing conditions ([#17628]) show deep engagement from multiple contributors in solving complex systemic problems. The introduction of an AI-powered system for test maintenance ([#17560]) also points to a culture of innovation and a forward-thinking approach to improving developer productivity and code quality.