# ethereum-optimism/optimism Weekly Report (Jul 13 - 19, 2025)

## üöÄ Highlights
This week was characterized by a significant push to enhance the project's testing and validation infrastructure. Major efforts were dedicated to porting existing acceptance tests to `devstack`, introducing a new differential testing framework for Cannon, and laying the groundwork for a new `op-sync-tester` service. Alongside these testing improvements, work continued on bolstering the dispute game system and improving node stability. The team also focused on backlog management, closing numerous long-standing issues and opening detailed new ones that outline future architectural work, particularly around the modularization of `op-node`.

## üõ†Ô∏è Key Developments
Work this week focused on improving robustness, test coverage, and developer tooling across the OP Stack.

### Testing Infrastructure Overhaul
A substantial effort was made to strengthen the project's testing capabilities, ensuring greater reliability and easier validation of new features.
- **Test Migration to Devstack:** Several critical acceptance tests were ported to `op-devstack` for use in persistent devnets, including tests for the ERC20 bridge ([#16695]), withdrawals root ([#16547]), chain functionality ([#16594]), and Isthmus operator fees ([#16721]). Pectra and Ecotone feature tests were also integrated into the devstack acceptance suite ([#16744]).
- **Cannon Differential Testing:** A new "DiffTester" framework was introduced for Cannon, enabling more robust differential testing of VM steps. Existing tests for noop/unsupported syscalls ([#16608]), memory reservation ([#16709]), and custom memory reservation ([#16727]) were migrated to this new framework.
- **New Test Implementations:** New `sysgo` (in-memory) tests were added to CI ([#16550]), and new acceptance tests were introduced for the pre-interop super proposer system ([#16674]).
- **Test Stability:** A temporary skip was added for interop acceptance tests failing due to an `op-geth` version bump ([#16732]), and a race condition in `op-dispute-mon`'s test suite was fixed ([#16697]).

### Dispute System and Node Robustness
Improvements were made to enhance protocol security and the stability of core components.
- **Dispute Monitoring:** The dispute monitor (`op-dispute-mon`) was enhanced to check output roots against multiple rollup nodes, increasing monitoring robustness ([#16490]). A startup failure issue caused by the lazy dial option was also resolved ([#16720]).
- **Dispute Game Testing:** A new Super Dispute Game test case was added to cover unsafe proposals where a game's root claim contains both valid and invalid output roots ([#16723]).
- **Node Sanity Checks:** Sanity checks were added to `op-node` to prevent reorgs from supervisors when interop is not active and to limit the depth of reorgs ([#16554]).

### Deployment Tooling and Code Quality
The developer experience was improved through better deployment tools and general code hygiene.
- **Deployment:** A new command was added to `op-deployer` to simplify `OPCM.migrate` calls, streamlining a key chain management operation ([#16710]).
- **CLI Enhancements:** The Gnosis CLI was updated with a new interface for sending transactions and was refactored for better modularity ([#16743], [#16745]).
- **Code Refinements:** A duplicated struct was removed from `contracts-bedrock` ([#16621]), an unused function was removed from `op-service` ([#16622]), and a duplicate check was removed from `op-batcher` ([#16696]). Docker build speeds were also improved through better layer caching ([#16694]).

## üêõ Issues & Triage

### Closed Issues
A significant number of issues were closed, reflecting progress in testing, infrastructure deployment, and backlog cleanup.
- **Testing & Devnet:** The porting of `TestChainFork` to devstack was completed ([#413]), as were the `op-proposer` acceptance tests for interop ([#15950]). An investigation into NAT tests for the fault proof system was also concluded ([#14118]).
- **Infrastructure & Deployment:** Several issues related to Flashblocks deployment on op-sepolia and sunnyside sequencers were resolved ([#16686], [#16688]). Discussions on NVMe node deployment and dedicated namespacing for `op-rbuilders` were concluded, with both being deprioritized for now ([#16689], [#16690]).
- **Backlog Cleanup:** Several older issues were closed, including those related to sequencer stability ([#11228], [#12240]), a PR-based release workflow ([#12683]), and an outdated NPM package ([#13459]).

### New & Active Issues
New issues this week map out significant future work, while active discussions focus on resolving complex bugs and finalizing designs.
- **`op-node` Modularization:** A comprehensive set of issues ([#16679], [#16680], [#16681], [#16682], [#16683]) was opened to track the refactoring of `op-node`. The goal is to split its components (CLI, service, backend, metrics) into more modular packages for better maintainability and encapsulation.
- **`op-sync-tester` Development:** A new epic was created to build an `op-sync-tester` service for mock EL sync testing. This was broken down into several tracking issues covering session handling ([#16699]), namespace support ([#16700], [#16701]), and integration ([#16702], [#16704]). The design is being actively discussed in [#16452].
- **Active Discussions:** An investigation continues into a flaky CI issue where invalid interop transactions are occasionally included in the txpool ([#635]). Discussions also continued around the design of `VerifyOPCM` ([#16653]) and the migration from Etherscan to Blockscout ([#1696]).

## üí¨ Community & Collaboration
This week highlighted both innovative and traditional forms of collaboration. Notably, a pull request to improve `SuperchainConfig` test coverage ([#16675]) was the first to be created entirely with AI assistance, showcasing an emerging development methodology.

Active technical discussions were prominent across several issues. For instance, contributors @protolambda and @pcw109550 debated session management strategies for the new `op-sync-tester` ([#16452]), demonstrating collaborative design on future tooling. The coordinated creation of detailed, multi-issue epics for the `op-node` refactor and the `op-sync-tester` points to strong alignment and planning within the core team for significant upcoming architectural improvements.