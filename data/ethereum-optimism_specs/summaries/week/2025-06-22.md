# ethereum-optimism/specs Weekly Report (Jun 22 - 28, 2025)

## üöÄ Highlights
This week was characterized by significant progress in tooling and testing, alongside deep investigations into component performance and supervisor logic. A major effort culminated in the closure of numerous issues related to Superchain-Ops tooling, dramatically improving task management and developer experience. The team also successfully enabled and validated flashblocks on the `eris-0` environment. Key challenges remain in performance optimization, with active spikes into `op-batcher` memory consumption and `op-geth` CPU usage. Concurrently, detailed discussions are refining the `op-supervisor`'s behavior for the upcoming interop hard fork, focusing on reset logic and L1 origin validity.

## üõ†Ô∏è Key Developments
While much of the week's focus was on issue discussion and investigation, key refinements were merged to improve interop specifications.

- **Supervisor Specification Refinements:** Work was completed to enhance the clarity and constraints of supervisor behavior. This included adding constraints for `supervisor_syncStatus` to improve interop specifications ([#723](https://github.com/ethereum-optimism/specs/pull/723)) and clarifying the definition of a "managed node" within the supervisor documentation to distinguish it from other modes ([#732](https://github.com/ethereum-optimism/specs/pull/732)).

## üêõ Issues & Triage

### Closed Issues
A significant number of issues were resolved, marking progress in tooling, testing, and feature integration.

- **Superchain-Ops Tooling Overhaul:** A massive effort to improve Superchain-Ops tooling concluded with the closure of over a dozen issues. Key enhancements include automated CI task execution ([#337](https://github.com/ethereum-optimism/specs/issues/337)), support for "stacked" proposals ([#342](https://github.com/ethereum-optimism/specs/issues/342)), improved validation against `StandardValidator` contracts ([#838](https://github.com/ethereum-optimism/specs/issues/838)), and numerous UX and efficiency improvements ([#777](https://github.com/ethereum-optimism/specs/issues/777), [#648](https://github.com/ethereum-optimism/specs/issues/648), [#923](https://github.com/ethereum-optimism/specs/issues/923)).
- **Flashblocks Integration:** Issues related to enabling flashblocks on the `eris-0` environment ([#16468](https://github.com/ethereum-optimism/specs/issues/16468)) and completing acceptance tests for flashblock transactions ([#354](https://github.com/ethereum-optimism/specs/issues/354)) were closed, marking a key milestone.
- **CI/CD & Testing:** Following a spike, the decision was made not to implement formal CI SLAs for now, concluding the discussion in [#16437](https://github.com/ethereum-optimism/specs/issues/16437). An issue tracking CI flakiness ([#16271](https://github.com/ethereum-optimism/specs/issues/16271)) was also closed, noting that stability has improved and monitoring will continue.
- **Local Development:** An issue to allow users to modify predeploys in the local development environment was closed, addressing a key need for prototyping ([#393](https://github.com/ethereum-optimism/specs/issues/393)).

### New & Active Issues
Discussions this week centered on performance optimization, supervisor behavior, and new architectural considerations.

- **Component Performance Investigation:**
    - **`op-batcher` Memory:** A spike was opened to investigate `op-batcher` memory consumption during L1 congestion ([#16537](https://github.com/ethereum-optimism/specs/issues/16537)). Detailed `pprof` analysis identified the compressor as the primary source of memory growth, with proposals to optimize its usage. A follow-up issue ([#16572](https://github.com/ethereum-optimism/specs/issues/16572)) was created to add `pprof` integration to CI for ongoing observability.
    - **`op-geth` CPU Usage:** Investigation continues into abnormal CPU usage in `op-geth` v1.101511.0 ([#613](https://github.com/ethereum-optimism/specs/issues/613)). Multiple users confirmed the issue, sharing performance profiles and suggesting the cause may be related to log indexing rebuilds after upgrades.
- **`op-supervisor` Interop Logic:**
    - Discussions continued on refining the supervisor's reset logic ([#16314](https://github.com/ethereum-optimism/specs/issues/16314), [#16321](https://github.com/ethereum-optimism/specs/issues/16321)) and extending L1 origin validity checks to all safety levels ([#16315](https://github.com/ethereum-optimism/specs/issues/16315)).
    - A new issue was opened to investigate spikes in `local-derived` events, with initial speculation pointing to a potential deadlock ([#16603](https://github.com/ethereum-optimism/specs/issues/16603)).
- **Future Architecture & Dependencies:**
    - A placeholder issue ([#734](https://github.com/ethereum-optimism/specs/issues/734)) was created to research embedding `op-node` within `op-supervisor`, signaling a future deprecation of the managed mode RPC API.
    - A broken dependency in `op-chain-ops` was reported ([#16612](https://github.com/ethereum-optimism/specs/issues/16612)), requiring a versioning fix.

## üí¨ Community & Collaboration
This week highlighted strong collaborative debugging and decision-making. The investigation into `op-batcher` memory usage ([#16537](https://github.com/ethereum-optimism/specs/issues/16537)) showcased effective technical collaboration, with detailed profiling and analysis shared openly. Similarly, the `op-geth` CPU issue ([#613](https://github.com/ethereum-optimism/specs/issues/613)) saw multiple community members experiencing the same problem and working together to diagnose it by sharing data.

The discussion around CI SLAs ([#16437](https://github.com/ethereum-optimism/specs/issues/16437)) involved several core contributors (`scharissis`, `pauldowman`, `teddyknox`, `ajsutton`), whose varied perspectives led to a well-reasoned decision to focus on addressing test flakiness directly rather than implementing a formal SLA framework at this time. Finally, issue [#781](https://github.com/ethereum-optimism/specs/issues/781) saw active engagement from community members looking to contribute, indicating a healthy interest in improving the project's tooling.