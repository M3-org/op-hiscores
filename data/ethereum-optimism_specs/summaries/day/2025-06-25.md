# ethereum-optimism/specs Daily Update (Jun 25, 2025)
## OVERVIEW 
Today's development focused on enhancing observability and optimizing memory for the `op-batcher`, alongside significant progress in flashblocks integration and improvements to local development environments. Several issues related to CI/CD and predeploy modifications were also closed.

## KEY TECHNICAL DEVELOPMENTS

### Batcher Performance and Observability
Efforts were made to optimize `op-batcher` memory consumption and increase its observability. Initial analysis suggests the compressor is a major contributor to memory usage, with potential optimizations identified, such as using a single compressor and more eagerly discarding it after channel submission. Discussions also highlighted the need for `pprof` integration in Kurtosis-devnet and CI tests to measure memory consumption.
- Related Issues: [#16537](https://github.com/ethereum-optimism/specs/issues/16537), [#16572](https://github.com/ethereum-optimism/specs/issues/16572)

### Flashblocks Integration and Testing
Significant progress was made in enabling and testing flashblocks, particularly on the `eris-0` environment. This involved multiple phases of chart and Kubernetes updates. Acceptance tests for flashblocks transactions were also completed, including transfer and streaming tests, with discussions around the need for robust validation of RPC responses and websocket stream monitoring.
- Related Issues: [#16468](https://github.com/ethereum-optimism/specs/issues/16468), [#354](https://github.com/ethereum-optimism/specs/issues/354)

### Local Development Environment Enhancements
Improvements were made to the local development environment, specifically Supersim, to allow users to modify predeploys, addressing a key need for prototyping future predeploy changes. A discussion also clarified the differences and use cases between Supersim and Interop Kurtosis devnet, with Supersim being highlighted for lighter, multichain/interop application testing. A feature request for logging user-specified contracts in Supersim was also noted.
- Related Issues: [#393](https://github.com/ethereum-optimism/specs/issues/393), [#399](https://github.com/ethereum-optimism/specs/issues/399), [#411](https://github.com/ethereum-optimism/specs/issues/411)

## NEWLY OPENED PULL REQUESTS
- None

## CLOSED ISSUES

### CI/CD and Testing Improvements
An issue exploring the adoption of internal SLAs for the continuous integration pipeline was closed, with the decision not to implement CI SLAs for now. Discussions highlighted concerns about high expected failure rates, long CI completion times, and the dangers of disabling checks.
- Related Issues: [#16437](https://github.com/ethereum-optimism/specs/issues/16437)

### Flashblocks Deployment and Acceptance
Issues related to enabling flashblocks on `eris-0` and developing acceptance tests for flashblocks transactions were closed. This marks a significant step in integrating and validating flashblocks functionality.
- Related Issues: [#16468](https://github.com/ethereum-optimism/specs/issues/16468), [#354](https://github.com/ethereum-optimism/specs/issues/354)

### Local Development Environment Configuration
An issue enabling users to modify predeploys within the development environment was closed, indicating successful implementation of this feature. Additionally, a broken link in the documentation for `L2NativeSuperchainERC20.sol` was resolved and closed.
- Related Issues: [#393](https://github.com/ethereum-optimism/specs/issues/393), [#283](https://github.com/ethereum-optimism/specs/issues/283)

## NEW ISSUES

### Supervisor and Node Integration
A new issue was opened to research embedding the `op-node` within `op-supervisor` and `kona-node` within `kona-supervisor`. This is a placeholder for deprecating the managed mode RPC API.
- Related Issues: [#734](https://github.com/ethereum-optimism/specs/issues/734)

### Batcher Observability
A new issue was created to increase the observability of memory consumption in `op-batcher`. This includes integrating `pprof` into Kurtosis-devnet and adding CI tests to measure memory usage.
- Related Issues: [#16572](https://github.com/ethereum-optimism/specs/issues/16572)

## ACTIVE ISSUES

### Netchef Improvements for Flashblock Configuration ([#15940](https://github.com/ethereum-optimism/specs/issues/15940))
The latest comment indicates associated PRs in `infrastructure-services` that are likely contributing to the netchef improvements for rendering flashblock websocket configuration. The issue is currently blocked on a PR in the main `optimism` repository.

### OPCM Migrate Script Improvements ([#16326](https://github.com/ethereum-optimism/specs/issues/16326))
A recent comment from `pauldowman` asks if the issue can be closed, suggesting that the necessary improvements might have been completed by a related PR.

### Spike: CI SLAs ([#16437](https://github.com/ethereum-optimism/specs/issues/16437))
Discussions revolved around the utility and feasibility of CI SLAs. `ajsutton` expressed skepticism about their direct impact on developers, highlighting that flaky tests are a primary concern. `teddyknox` suggested focusing on smarter ways to allow new tests into the repo to prevent flakiness. `pauldowman` agreed on the importance of metrics for infrastructure but questioned the inclusion of PR merge time as a CI SLA. `scharissis` acknowledged the feedback and plans to develop a lightweight proposal.

### Spike: Optimize op-batcher Memory Consumption ([#16537](https://github.com/ethereum-optimism/specs/issues/16537))
`geoknee` provided a detailed analysis using `pprof`, identifying the compressor as the main source of memory usage when the batcher backlog grows. Two optimization ideas were proposed: making the shadow compressor use less memory and more eagerly discarding the compressor after channel submission. `sebastianst` initially suggested using a memory profiler.

### Withdrawal Pathways for Superchain Output Roots ([#821](https://github.com/ethereum-optimism/specs/issues/821))
`fainashalts` inquired about testing against an upcoming devnet endpoint given the renaming of existing devnets. This issue highlights the need to update withdrawal code in `viem` to support the new output root structure after the interop hard fork.

### What's the Difference Between Supersim and Interop Kurtosis Devnet? ([#399](https://github.com/ethereum-optimism/specs/issues/399))
`fainashalts` clarified that Supersim is a lighter wrapper around Anvil, primarily for testing multichain/interop applications, while Kurtosis is used for chain-level testing. `zhiqiangxu` followed up to confirm if Supersim is mainly for dapp testing.